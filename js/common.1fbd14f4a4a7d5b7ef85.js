(()=>{"use strict";var e,t={5272:()=>{const e={gifContainer:document.querySelector("#gifContainer"),searchInput:document.querySelector("#searchInput"),showMore:document.querySelector("#showMore"),paginationContainer:document.querySelector(".pagination__container"),paginationBtns:document.querySelectorAll(".pagination__btn"),buttonPrev:document.querySelector("#buttonPrev"),paginationItems:document.querySelector("#paginationItems"),buttonNext:document.querySelector("#buttonNext"),limit:12,offset:0,currentPage:1},t="https://api.giphy.com/v1/gifs",n="RgWTMk7a1a0rM1Wa3zP1hUI8vjjJ2qZ8",o=t=>{t.forEach((t=>{const n=document.createElement("img");n.classList.add("grid-item"),n.src=t.images.fixed_height.url,e.gifContainer.appendChild(n)}))},a=(t,n)=>{const o=document.createElement("button");o.className=t===n?"pagination__btn active":"pagination__btn",o.innerHTML=t,o.setAttribute("page-index",t),o.setAttribute("aria-label","Page ".concat(t)),e.paginationItems.appendChild(o)},r=()=>{const t=document.createElement("span");t.innerHTML="...",e.paginationItems.appendChild(t)},i=t=>{let n=parseInt(t.pagination.total_count),i=Math.ceil(n/e.limit);e.buttonNext.disabled=e.offset>=n,e.buttonPrev.disabled=e.offset<=0,o(t.data),((e,t)=>{const n=t-2,o=t+2+1,i=[];for(let t=1;t<=e;t++)(1===t||t===e||t>=n&&t<o)&&i.push(t);let c=0;for(const e of i)c&&e-c!=1&&r(),a(e,t),c=e})(i,e.currentPage)},c=e=>fetch(e).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch((e=>console.error(e))),s=()=>{e.gifContainer.innerHTML="",e.paginationItems.innerHTML="";let t=e.searchInput.value.trim();t?l(t):u()},u=()=>{c("".concat(t,"/trending?api_key=").concat(n,"&limit=").concat(e.limit,"&offset=").concat(e.offset)).then((e=>{i(e)})).catch((e=>console.error(e)))},l=a=>{c("".concat(t,"/search?api_key=").concat(n,"&q=").concat(a,"&limit=").concat(e.limit,"&offset=").concat(e.offset)).then((e=>{if(0===e.data.length)return c("".concat(t,"/search?api_key=").concat(n,"&q=not+found&limit=9"));i(e)})).then((e=>{if(e&&e.data){const t=e.data[Math.floor(Math.random()*e.data.length)];o([t])}})).catch((e=>console.error(e)))};window.addEventListener("DOMContentLoaded",(()=>{const t=new URLSearchParams(window.location.search).get("search");t&&(e.searchInput.value=t),s()})),e.paginationContainer.addEventListener("click",(t=>{t.target.getAttribute("page-index")?(e.currentPage=parseInt(t.target.getAttribute("page-index")),e.offset=(e.currentPage-1)*e.limit,s(),console.log("refs.currentPage",e.currentPage),console.log("refs.offset",e.offset)):"buttonNext"===t.target.id?(e.currentPage+=1,e.offset+=e.limit,s(),console.log("refs.currentPage",e.currentPage),console.log("refs.offset",e.offset)):"buttonPrev"===t.target.id&&(e.currentPage-=1,e.offset-=e.limit,s())})),e.searchInput.addEventListener("input",function(e,t){let n;return function(){clearTimeout(n),n=setTimeout((()=>e.apply(this,arguments)),1500)}}((()=>{e.offset=0,e.currentPage=1,s()}))),e.searchInput.addEventListener("keydown",(e=>"Enter"===e.key&&e.preventDefault()))}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,n,a,r)=>{if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],a=e[l][1],r=e[l][2];for(var c=!0,s=0;s<n.length;s++)(!1&r||i>=r)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(c=!1,r<i&&(i=r));if(c){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[n,a,r]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={592:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,i=n[0],c=n[1],s=n[2],u=0;if(i.some((t=>0!==e[t]))){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(s)var l=s(o)}for(t&&t(n);u<i.length;u++)r=i[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(l)},n=self.webpackChunkwebpack=self.webpackChunkwebpack||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.O(void 0,[981],(()=>o(6981)));var a=o.O(void 0,[981],(()=>o(5272)));a=o.O(a)})();